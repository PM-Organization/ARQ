{"ast":null,"code":"var _jsxFileName = \"/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/Analiticos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Form, Button, Table, Pagination, InputGroup, FormControl } from 'react-bootstrap';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, PointElement, LineElement, ArcElement } from 'chart.js';\nimport { Bar, Line, Pie } from 'react-chartjs-2';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport emailjs from 'emailjs-com';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, PointElement, LineElement, ArcElement);\nconst Analiticos = () => {\n  _s();\n  const [barChartData, setBarChartData] = useState({});\n  const [lineChartData, setLineChartData] = useState({});\n  const [pieChartData, setPieChartData] = useState({});\n\n  // paginacion\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [recordsPerPage] = useState(25);\n  const [searchResults, setSearchResults] = useState([]);\n  const [filters, setFilters] = useState({\n    fechaDesde: '',\n    fechaHasta: '',\n    tipoAcceso: '',\n    esAutenticado: ''\n  });\n  useEffect(() => {\n    const fetchGraphData = async () => {\n      await fetchBusquedasPorPais();\n      await fetchEvolucionBusquedas();\n      await fetchTipoAcceso();\n    };\n    fetchGraphData();\n  }, []); // Assuming no dependencies\n\n  const fetchBusquedasPorPais = async () => {\n    const response = await axios.get('http://localhost:8080/analiticos/registros/paises');\n    const paises = response.data;\n    const labels = Object.keys(paises);\n    const data = labels.map(pais => paises[pais]);\n    setBarChartData({\n      labels,\n      datasets: [{\n        label: 'Número de búsquedas por país',\n        data,\n        backgroundColor: 'rgba(255, 99, 132, 0.5)'\n      }]\n    });\n  };\n  const fetchEvolucionBusquedas = async () => {\n    const response = await axios.get('http://localhost:8080/analiticos/registros/evolucion');\n    const evolucion = response.data;\n    const labels = Object.keys(evolucion);\n    const data = labels.map(fecha => evolucion[fecha]);\n    setLineChartData({\n      labels,\n      datasets: [{\n        label: 'Búsquedas a lo largo del tiempo',\n        data,\n        fill: false,\n        borderColor: 'rgb(75, 192, 192)',\n        tension: 0.1\n      }]\n    });\n  };\n  const fetchTipoAcceso = async () => {\n    const response = await axios.get('http://localhost:8080/analiticos/registros/tipoacceso');\n    const tipoAcceso = response.data;\n    const labels = Object.keys(tipoAcceso);\n    const data = labels.map(type => tipoAcceso[type]);\n    setPieChartData({\n      labels,\n      datasets: [{\n        label: 'Distribución del Tipo de Acceso',\n        data,\n        backgroundColor: ['rgba(255, 205, 86, 0.7)', 'rgba(54, 162, 235, 0.7)'],\n        hoverOffset: 4\n      }]\n    });\n  };\n  const handleFilterChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    // Use the checkbox value if it's the 'esAutenticado' filter\n    setFilters({\n      ...filters,\n      [name]: type === 'checkbox' ? checked : value\n    });\n  };\n  const handleSearch = async () => {\n    const esAutenticadoValue = filters.esAutenticado ? 'true' : 'false';\n    const offset = new Date().getTimezoneOffset() * 60000;\n    const formattedFromDate = filters.fechaDesde ? new Date(new Date(filters.fechaDesde).getTime() - offset).toISOString() : '';\n    const formattedToDate = filters.fechaHasta ? new Date(new Date(filters.fechaHasta).getTime() - offset).toISOString() : '';\n    console.log(`Searching from ${formattedFromDate} to ${formattedToDate}`);\n    const params = new URLSearchParams({\n      fechaDesde: formattedFromDate,\n      fechaHasta: formattedToDate,\n      tipoAcceso: filters.tipoAcceso\n    });\n\n    // Add the esAutenticado parameter conditionally based on the checkbox\n    if (filters.esAutenticado !== '') {\n      params.append('esAutenticado', esAutenticadoValue);\n    }\n    try {\n      const response = await axios.get(`http://localhost:8080/analiticos/filtrar?${params}`);\n      const formattedResults = response.data.map(item => ({\n        ...item,\n        fechaHora: new Date(item.fechaHora).toLocaleString('en-US', {\n          year: 'numeric',\n          month: 'numeric',\n          day: 'numeric',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n          hour12: true\n        })\n      }));\n      setSearchResults(formattedResults);\n      setCurrentPage(1);\n    } catch (error) {\n      console.error('Error fetching search results:', error);\n      setSearchResults([]);\n    }\n  };\n\n  // PAGINEO\n  const indexOfLastRecord = currentPage * recordsPerPage;\n  const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\n  const currentRecords = searchResults.slice(indexOfFirstRecord, indexOfLastRecord);\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  // CORREO\n  const [file, setFile] = useState(null);\n  const [email, setEmail] = useState(''); // correo\n\n  const handleFileChange = event => {\n    setFile(event.target.files[0]);\n  };\n  const convertToCSV = data => {\n    if (!data || data.length === 0) {\n      console.error('No data available to convert to CSV');\n      return ''; // Return an empty string or handle this case as needed\n    }\n    const replacer = (key, value) => value === null ? '' : value;\n    const header = Object.keys(data[0]);\n    let csv = data.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','));\n    csv.unshift(header.join(','));\n    return csv.join('\\r\\n');\n  };\n  const toBase64 = csvData => {\n    return btoa(unescape(encodeURIComponent(csvData)));\n  };\n  const downloadCSV = csvData => {\n    const blob = new Blob([csvData], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.setAttribute('hidden', '');\n    a.setAttribute('href', url);\n    a.setAttribute('download', 'download.csv');\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  };\n  const handleDownload = () => {\n    if (!currentRecords || currentRecords.length === 0) {\n      console.error('No records to download');\n      return; // Optionally alert the user or handle this scenario appropriately.\n    }\n    const csvData = convertToCSV(currentRecords);\n    const blob = new Blob([csvData], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'searchResults.csv';\n    a.click();\n    window.URL.revokeObjectURL(url);\n    console.log(\"CSV file has been downloaded.\");\n  };\n  const sendEmail = () => {\n    if (!file) {\n      console.error(\"No file selected\");\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = event => {\n      const base64data = event.target.result.split(',')[1];\n      const templateParams = {\n        to_email: email,\n        attachment: base64data\n      };\n      emailjs.send('service_db-dw2', 'template_rq1e8jw', templateParams, '83TAqc_7hHgnfdESC').then(response => {\n        console.log('Email successfully sent!', response.status, response.text);\n      }, error => {\n        console.error('Failed to send email:', error);\n      });\n    };\n    reader.readAsDataURL(file);\n    console.log(\"Sending email with attachment.\"); // Log when sending email\n  };\n  const handleExport = () => {\n    const csvData = convertToCSV(currentRecords);\n    sendEmail(csvData);\n  };\n  const handleUploadToDrive = () => {\n    const folderId = '1nihlBuTFBe11gQ5fDxHi0AQ_SWGA7E6x';\n    axios.post('http://localhost:8080/uploadToDrive', {\n      filePath: '/home/pmorales/Downloads/searchResults.csv',\n      fileName: 'searchResults.csv',\n      folderId: folderId\n    }).then(response => {\n      alert('File successfully uploaded to Google Drive. Link: ' + response.data.fileLink);\n    }).catch(error => {\n      console.error('Error uploading file:', error);\n      alert('Failed to upload file: ' + error.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"analiticos-container\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"fechaDesde\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Fecha Desde\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"datetime-local\",\n                  name: \"fechaDesde\",\n                  value: filters.fechaDesde,\n                  onChange: handleFilterChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"fechaHasta\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Fecha Hasta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"datetime-local\",\n                  name: \"fechaHasta\",\n                  value: filters.fechaHasta,\n                  onChange: handleFilterChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"tipoAcceso\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Tipo de Acceso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"select\",\n                  name: \"tipoAcceso\",\n                  value: filters.tipoAcceso,\n                  onChange: handleFilterChange,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Seleccione\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"web\",\n                    children: \"Web\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"REST\",\n                    children: \"REST\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"esAutenticado\",\n                children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                  type: \"checkbox\",\n                  label: \"Authenticated\",\n                  name: \"esAutenticado\",\n                  checked: filters.esAutenticado,\n                  onChange: handleFilterChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              className: \"d-flex align-items-end\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSearch,\n                children: \"Buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          size: \"sm\",\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Usuario ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Fecha/Hora\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Detalle de B\\xFAsqueda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tipo Acceso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: currentRecords.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.usuarioId || 'No Autenticado'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.fechaHora\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.parametrosBusqueda\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.tipoAcceso\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 13\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          children: Array.from({\n            length: Math.ceil(searchResults.length / recordsPerPage)\n          }, (_, i) => /*#__PURE__*/_jsxDEV(Pagination.Item, {\n            active: i + 1 === currentPage,\n            onClick: () => paginate(i + 1),\n            children: i + 1\n          }, i + 1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDownload,\n            children: \"Download CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            placeholder: \"Recipient's email\",\n            \"aria-label\": \"Recipient's email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"file\",\n            onChange: handleFileChange,\n            accept: \".csv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-secondary\",\n            onClick: sendEmail,\n            children: \"Send Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleUploadToDrive,\n          children: \"Upload to Google Drive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"chart-title\",\n          children: \"An\\xE1lisis de B\\xFAsquedas por Pa\\xEDs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }, this), barChartData.labels && /*#__PURE__*/_jsxDEV(Bar, {\n          data: barChartData,\n          options: {\n            responsive: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"chart-title\",\n          children: \"Evoluci\\xF3n de las B\\xFAsquedas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 21\n        }, this), lineChartData.labels && /*#__PURE__*/_jsxDEV(Line, {\n          data: lineChartData,\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 12,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"chart-title\",\n          children: \"Distribuci\\xF3n del Tipo de Acceso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }, this), pieChartData.labels && /*#__PURE__*/_jsxDEV(Pie, {\n          data: pieChartData,\n          options: {\n            responsive: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 9\n  }, this);\n};\n_s(Analiticos, \"gQZ1FNQ/IkjvgCpE2ZLbRWMZNUo=\");\n_c = Analiticos;\nexport default Analiticos;\nvar _c;\n$RefreshReg$(_c, \"Analiticos\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Form","Button","Table","Pagination","InputGroup","FormControl","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","PointElement","LineElement","ArcElement","Bar","Line","Pie","axios","emailjs","jsxDEV","_jsxDEV","register","Analiticos","_s","barChartData","setBarChartData","lineChartData","setLineChartData","pieChartData","setPieChartData","currentPage","setCurrentPage","recordsPerPage","searchResults","setSearchResults","filters","setFilters","fechaDesde","fechaHasta","tipoAcceso","esAutenticado","fetchGraphData","fetchBusquedasPorPais","fetchEvolucionBusquedas","fetchTipoAcceso","response","get","paises","data","labels","Object","keys","map","pais","datasets","label","backgroundColor","evolucion","fecha","fill","borderColor","tension","type","hoverOffset","handleFilterChange","e","name","value","checked","target","handleSearch","esAutenticadoValue","offset","Date","getTimezoneOffset","formattedFromDate","getTime","toISOString","formattedToDate","console","log","params","URLSearchParams","append","formattedResults","item","fechaHora","toLocaleString","year","month","day","hour","minute","second","hour12","error","indexOfLastRecord","indexOfFirstRecord","currentRecords","slice","paginate","pageNumber","file","setFile","email","setEmail","handleFileChange","event","files","convertToCSV","length","replacer","key","header","csv","row","fieldName","JSON","stringify","join","unshift","toBase64","csvData","btoa","unescape","encodeURIComponent","downloadCSV","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","setAttribute","body","appendChild","click","removeChild","handleDownload","href","download","revokeObjectURL","sendEmail","reader","FileReader","onload","base64data","result","split","templateParams","to_email","attachment","send","then","status","text","readAsDataURL","handleExport","handleUploadToDrive","folderId","post","filePath","fileName","alert","fileLink","catch","message","fluid","className","children","md","Group","controlId","Label","_jsxFileName","lineNumber","columnNumber","Control","onChange","as","Check","onClick","striped","bordered","hover","size","index","id","usuarioId","parametrosBusqueda","Array","from","Math","ceil","_","i","Item","active","placeholder","accept","variant","options","responsive","scales","y","beginAtZero","_c","$RefreshReg$"],"sources":["/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/Analiticos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Form, Button, Table, Pagination, InputGroup, FormControl } from 'react-bootstrap';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, PointElement, LineElement, ArcElement } from 'chart.js';\nimport { Bar, Line, Pie } from 'react-chartjs-2';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport emailjs from 'emailjs-com';\n\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  PointElement,\n  LineElement,\n  ArcElement\n);\n\nconst Analiticos = () => {\n    const [barChartData, setBarChartData] = useState({});\n    const [lineChartData, setLineChartData] = useState({});\n    const [pieChartData, setPieChartData] = useState({});\n\n    // paginacion\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [recordsPerPage] = useState(25);\n\n\n    const [searchResults, setSearchResults] = useState([]);\n    const [filters, setFilters] = useState({ fechaDesde: '', fechaHasta: '', tipoAcceso: '', esAutenticado: '' });\n\n\n    useEffect(() => {\n        const fetchGraphData = async () => {\n            await fetchBusquedasPorPais();\n            await fetchEvolucionBusquedas();\n            await fetchTipoAcceso();\n        };\n    \n        fetchGraphData();\n    }, []); // Assuming no dependencies\n    \n\n    const fetchBusquedasPorPais = async () => {\n        const response = await axios.get('http://localhost:8080/analiticos/registros/paises');\n        const paises = response.data;\n        const labels = Object.keys(paises);\n        const data = labels.map(pais => paises[pais]);\n        setBarChartData({\n            labels,\n            datasets: [{\n                label: 'Número de búsquedas por país',\n                data,\n                backgroundColor: 'rgba(255, 99, 132, 0.5)',\n            }],\n        });\n    };\n\n    const fetchEvolucionBusquedas = async () => {\n        const response = await axios.get('http://localhost:8080/analiticos/registros/evolucion');\n        const evolucion = response.data;\n        const labels = Object.keys(evolucion);\n        const data = labels.map(fecha => evolucion[fecha]);\n        setLineChartData({\n            labels,\n            datasets: [{\n                label: 'Búsquedas a lo largo del tiempo',\n                data,\n                fill: false,\n                borderColor: 'rgb(75, 192, 192)',\n                tension: 0.1,\n            }],\n        });\n    };\n\n    const fetchTipoAcceso = async () => {\n        const response = await axios.get('http://localhost:8080/analiticos/registros/tipoacceso');\n        const tipoAcceso = response.data;\n        const labels = Object.keys(tipoAcceso);\n        const data = labels.map(type => tipoAcceso[type]);\n        setPieChartData({\n            labels,\n            datasets: [{\n                label: 'Distribución del Tipo de Acceso',\n                data,\n                backgroundColor: ['rgba(255, 205, 86, 0.7)', 'rgba(54, 162, 235, 0.7)'],\n                hoverOffset: 4\n            }],\n        });\n    };\n\n    const handleFilterChange = e => {\n        const { name, value, type, checked } = e.target;\n        // Use the checkbox value if it's the 'esAutenticado' filter\n        setFilters({ ...filters, [name]: type === 'checkbox' ? checked : value });\n    };\n\n    const handleSearch = async () => {\n        const esAutenticadoValue = filters.esAutenticado ? 'true' : 'false'; \n\n        const offset = new Date().getTimezoneOffset() * 60000;\n        const formattedFromDate = filters.fechaDesde ? (new Date(new Date(filters.fechaDesde).getTime() - offset)).toISOString() : '';\n        const formattedToDate = filters.fechaHasta ? (new Date(new Date(filters.fechaHasta).getTime() - offset)).toISOString() : '';\n    \n        console.log(`Searching from ${formattedFromDate} to ${formattedToDate}`);\n        const params = new URLSearchParams({\n            fechaDesde: formattedFromDate,\n            fechaHasta: formattedToDate,\n            tipoAcceso: filters.tipoAcceso,\n        });\n    \n        // Add the esAutenticado parameter conditionally based on the checkbox\n        if (filters.esAutenticado !== '') {\n            params.append('esAutenticado', esAutenticadoValue);\n        }\n    \n        try {\n            const response = await axios.get(`http://localhost:8080/analiticos/filtrar?${params}`);\n            const formattedResults = response.data.map(item => ({\n                ...item,\n                fechaHora: new Date(item.fechaHora).toLocaleString('en-US', {\n                    year: 'numeric', month: 'numeric', day: 'numeric',\n                    hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true\n                })\n            }));\n            setSearchResults(formattedResults);\n            setCurrentPage(1);\n        } catch (error) {\n            console.error('Error fetching search results:', error);\n            setSearchResults([]);\n        }\n    };\n    \n\n    // PAGINEO\n    const indexOfLastRecord = currentPage * recordsPerPage;\n    const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\n    const currentRecords = searchResults.slice(indexOfFirstRecord, indexOfLastRecord);\n    \n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n    \n\n\n\n// CORREO\nconst [file, setFile] = useState(null);\nconst [email, setEmail] = useState(''); // correo\n\nconst handleFileChange = (event) => {\n    setFile(event.target.files[0]);\n};\n\nconst convertToCSV = (data) => {\n    if (!data || data.length === 0) {\n        console.error('No data available to convert to CSV');\n        return ''; // Return an empty string or handle this case as needed\n    }\n    const replacer = (key, value) => value === null ? '' : value;\n    const header = Object.keys(data[0]);\n    let csv = data.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','));\n    csv.unshift(header.join(','));\n    return csv.join('\\r\\n');\n};\n\n\nconst toBase64 = (csvData) => {\n    return btoa(unescape(encodeURIComponent(csvData)));\n};\n\n\nconst downloadCSV = (csvData) => {\n    const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.setAttribute('hidden', '');\n    a.setAttribute('href', url);\n    a.setAttribute('download', 'download.csv');\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n};\n\nconst handleDownload = () => {\n    if (!currentRecords || currentRecords.length === 0) {\n        console.error('No records to download');\n        return; // Optionally alert the user or handle this scenario appropriately.\n    }\n    const csvData = convertToCSV(currentRecords);\n    const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'searchResults.csv';\n    a.click();\n    window.URL.revokeObjectURL(url);\n    console.log(\"CSV file has been downloaded.\");\n};\n\n\n\n\nconst sendEmail = () => {\n    if (!file) {\n        console.error(\"No file selected\");\n        return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n        const base64data = event.target.result.split(',')[1];\n        const templateParams = {\n            to_email: email,\n            attachment: base64data,\n        };\n\n        emailjs.send('service_db-dw2', 'template_rq1e8jw', templateParams, '83TAqc_7hHgnfdESC')\n            .then((response) => {\n                console.log('Email successfully sent!', response.status, response.text);\n            }, (error) => {\n                console.error('Failed to send email:', error);\n            });\n    };\n    reader.readAsDataURL(file);\n    console.log(\"Sending email with attachment.\"); // Log when sending email\n};\n\n\n\n\n\nconst handleExport = () => {\n    const csvData = convertToCSV(currentRecords);\n    sendEmail(csvData);\n};\n\n\nconst handleUploadToDrive = () => {\n    const folderId = '1nihlBuTFBe11gQ5fDxHi0AQ_SWGA7E6x';\n    axios.post('http://localhost:8080/uploadToDrive', {\n        filePath: '/home/pmorales/Downloads/searchResults.csv',\n        fileName: 'searchResults.csv',\n        folderId: folderId  \n    }).then(response => {\n        alert('File successfully uploaded to Google Drive. Link: ' + response.data.fileLink);\n    }).catch(error => {\n        console.error('Error uploading file:', error);\n        alert('Failed to upload file: ' + error.message);\n    });\n};\n\n\n\n\n\n\n\n   \n    return (\n        <Container fluid className=\"analiticos-container\">\n            <Row>\n                <Col md={12}>\n                    <Form>\n                        <Row>\n                            <Col md={3}>\n                                <Form.Group controlId=\"fechaDesde\">\n                                    <Form.Label>Fecha Desde</Form.Label>\n                                    <Form.Control type=\"datetime-local\" name=\"fechaDesde\" value={filters.fechaDesde} onChange={handleFilterChange} />\n                                </Form.Group>\n                            </Col>\n                            <Col md={3}>\n                                <Form.Group controlId=\"fechaHasta\">\n                                    <Form.Label>Fecha Hasta</Form.Label>\n                                    <Form.Control type=\"datetime-local\" name=\"fechaHasta\" value={filters.fechaHasta} onChange={handleFilterChange} />\n                                </Form.Group>\n                            </Col>\n                            <Col md={3}>\n                                <Form.Group controlId=\"tipoAcceso\">\n                                    <Form.Label>Tipo de Acceso</Form.Label>\n                                    <Form.Control as=\"select\" name=\"tipoAcceso\" value={filters.tipoAcceso} onChange={handleFilterChange}>\n                                        <option value=\"\">Seleccione</option>\n                                        <option value=\"web\">Web</option>\n                                        <option value=\"REST\">REST</option\n                                    ></Form.Control>\n                                </Form.Group>\n                            </Col>\n                            <Col md={3}>\n                                <Form.Group controlId=\"esAutenticado\">\n                                    <Form.Check\n                                        type=\"checkbox\"\n                                        label=\"Authenticated\"\n                                        name=\"esAutenticado\"\n                                        checked={filters.esAutenticado}\n                                        onChange={handleFilterChange}\n                                    />\n                                </Form.Group>\n                            </Col>\n                            <Col md={3} className=\"d-flex align-items-end\">\n                                <Button onClick={handleSearch}>Buscar</Button>\n                            </Col>\n                        </Row>\n                    </Form>\n                    <Table striped bordered hover size=\"sm\" className=\"mt-4\">\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>Usuario ID</th>\n                                <th>Fecha/Hora</th>\n                                <th>Detalle de Búsqueda</th>\n                                <th>Tipo Acceso</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n    {currentRecords.map((item, index) => (\n        <tr key={index}>\n            <td>{item.id}</td>\n            <td>{item.usuarioId || 'No Autenticado'}</td>\n            <td>{item.fechaHora}</td>\n            <td>{item.parametrosBusqueda}</td>\n            <td>{item.tipoAcceso}</td>\n        </tr>\n    ))}\n</tbody>\n\n                    </Table>\n                    \n\n\n                    <Pagination>{Array.from({ length: Math.ceil(searchResults.length / recordsPerPage) }, (_, i) => (\n                        <Pagination.Item key={i + 1} active={i + 1 === currentPage} onClick={() => paginate(i + 1)}>\n                            {i + 1}\n                        </Pagination.Item>\n                    ))}</Pagination>\n\n\n\n\n                </Col>\n            </Row>\n\n\n\n            <Row>\n                <Col md={12}>\n                    <Form>\n                        <Button onClick={handleDownload}>Download CSV</Button>\n                    </Form>\n\n\n                    <InputGroup className=\"mb-3\">\n                        <FormControl\n                            placeholder=\"Recipient's email\"\n                            aria-label=\"Recipient's email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                        />\n                        <FormControl\n                            type=\"file\"\n                            onChange={handleFileChange}\n                            accept=\".csv\"\n                        />\n                        <Button variant=\"outline-secondary\" onClick={sendEmail}>Send Email</Button>\n                    </InputGroup>\n                </Col>\n            </Row>\n\n\n            <Row>\n                <Col md={12}>\n                    <Button variant=\"primary\" onClick={handleUploadToDrive}>Upload to Google Drive</Button>\n                </Col>\n            </Row>\n\n\n\n            <Row>\n                <Col md={12}>\n                    <h2 className=\"chart-title\">Análisis de Búsquedas por País</h2>\n                    {barChartData.labels && <Bar data={barChartData} options={{ responsive: true }} />}\n                </Col>\n            </Row>\n            <Row>\n                <Col md={12}>\n                    <h2 className=\"chart-title\">Evolución de las Búsquedas</h2>\n                    {lineChartData.labels && <Line data={lineChartData} options={{ responsive: true, scales: { y: { beginAtZero: true } } }} />}\n                </Col>\n            </Row>\n            <Row>\n                <Col md={12}>\n                    <h2 className=\"chart-title\">Distribución del Tipo de Acceso</h2>\n                    {pieChartData.labels && <Pie data={pieChartData} options={{ responsive: true }} />}\n                </Col>\n            </Row>\n\n\n\n\n\n            \n        </Container>\n    ); \n};\n\nexport default Analiticos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
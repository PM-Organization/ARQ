{"ast":null,"code":"var _jsxFileName = \"/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/AdministrarReservas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Button, Card } from 'react-bootstrap';\nimport { useUser } from './UserContext';\nimport EditReservationAdmin from './EditReservationAdmin';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport emailjs from 'emailjs-com';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdministrarReservas = () => {\n  _s();\n  const [reservations, setReservations] = useState([]);\n  const {\n    user\n  } = useUser();\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [currentReservation, setCurrentReservation] = useState(null);\n  const [showNotifyButton, setShowNotifyButton] = useState(false);\n\n  // Traducción del tipo de habitación\n  const translateTipoHabitacion = tipoHabitacion => {\n    const tipoHabitacionMap = {\n      1: \"Doble\",\n      2: \"Junior Suite\",\n      3: \"Suite\",\n      4: \"Gran Suite\"\n    };\n    return tipoHabitacionMap[tipoHabitacion] || \"Desconocido\";\n  };\n  const fetchReservations = useCallback(async () => {\n    console.log('Fetching reservations for user:', user === null || user === void 0 ? void 0 : user.id);\n    try {\n      const response = await fetch(`http://localhost:8080/reservas/detalle/todas`);\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Reservations fetched successfully:', data);\n        setReservations(data.map(reserva => ({\n          ...reserva,\n          tipoHabitacion: translateTipoHabitacion(reserva.tipoHabitacion),\n          idHotel: reserva.idHotel,\n          idHabitacion: reserva.idHabitacion\n        })));\n      } else {\n        console.error(\"Failed to fetch reservations.\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching reservations:\", error);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n  useEffect(() => {\n    fetchReservations();\n  }, [fetchReservations]);\n  const handleEdit = reserva => {\n    setCurrentReservation(reserva);\n    setShowEditModal(true);\n  };\n  const handleEditClose = () => {\n    setShowEditModal(false);\n    // No necesitas setEditedReservation aquí a menos que lo uses en otro lugar\n  };\n  const calculateNights = (checkIn, checkOut) => {\n    const checkInDate = new Date(checkIn);\n    const checkOutDate = new Date(checkOut);\n    const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n    return Math.ceil(diffTime / (1000 * 3600 * 24));\n  };\n  const cancelarReserva = async idReserva => {\n    try {\n      const response = await fetch(`http://localhost:8080/reservas/${idReserva}/cancelar`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('No se pudo cancelar la reserva');\n      }\n      alert('Reserva cancelada con éxito');\n      fetchReservations(); //error tipográfico.\n    } catch (error) {\n      console.error('Error al cancelar la reserva:', error);\n      alert('Error al cancelar la reserva');\n    }\n  };\n  const actualizarReserva = async reservaActualizada => {\n    console.log('Updating reservation with:', reservaActualizada);\n    try {\n      const response = await fetch(`http://localhost:8080/reservas/${reservaActualizada.idReserva}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(reservaActualizada)\n      });\n      if (!response.ok) {\n        if (response.status === 409) {\n          // Conflicto , notifica al usuario\n          alert(\"Habitación no disponible.\");\n        } else {\n          // Otro tipo de error HTTP\n          throw new Error(`Reservation update failed: ${response.statusText}`);\n        }\n      } else {\n        console.log('Reservation updated successfully');\n        // Solo mostramos el botón de notificar cambios si la actualización fue exitosa\n        setShowNotifyButton(true);\n        setShowEditModal(false);\n        await fetchReservations(); // Refresh the list of reservations\n      }\n    } catch (error) {\n      console.error('Error updating reservation:', error);\n      alert(\"Ocurrió un error al actualizar la reserva. Por favor, intenta de nuevo.\");\n      // También en este caso, ocultamos el botón ya que hubo un error\n      setShowNotifyButton(true); // Muestra el botón \"Notificar Cambios\" después de una actualización exitosa\n      setCurrentReservation(reservaActualizada); // Guarda los detalles de la reserva actualizada para usar en la notificación\n    }\n    ;\n    const downloadReservationPdf = reserva => {\n      const doc = new jsPDF();\n      doc.text(\"Detalle de Reserva\", 14, 16);\n      doc.setFontSize(10);\n\n      // Información de la reserva\n      const reservationDetails = [{\n        title: \"Hotel\",\n        data: reserva.nombreHotel\n      }, {\n        title: \"Número de habitación\",\n        data: reserva.numeroHabitacion.toString()\n      }, {\n        title: \"Tipo de habitación\",\n        data: reserva.tipoHabitacion\n      }, {\n        title: \"Ubicación\",\n        data: `${reserva.ciudad}, ${reserva.pais} - ${reserva.direccion}`\n      }, {\n        title: \"Check-in\",\n        data: reserva.fechaIngreso\n      }, {\n        title: \"Check-out\",\n        data: reserva.fechaSalida\n      }, {\n        title: \"Número de noches\",\n        data: calculateNights(reserva.fechaIngreso, reserva.fechaSalida).toString()\n      }, {\n        title: \"Personas\",\n        data: reserva.capacidadPersonas.toString()\n      }, {\n        title: \"Total Reserva\",\n        data: `$${reserva.totalReserva}`\n      }, {\n        title: \"Estado\",\n        data: reserva.estadoReserva\n      }, {\n        title: \"Código de reserva\",\n        data: reserva.codigoReserva\n      }];\n      doc.autoTable({\n        head: [[\"Detalle\", \"Información\"]],\n        body: reservationDetails.map(item => [item.title, item.data]),\n        startY: 20\n      });\n      doc.save(`Reserva_${reserva.codigoReserva}.pdf`);\n    };\n    const handleNotification = async () => {\n      if (!currentReservation) return;\n      const templateParams = {\n        to_name: user.primer_nombre,\n        // Asumiendo que tienes esta información disponible\n        hotel_name: currentReservation.hotelName,\n        room_number: currentReservation.roomNumber.toString(),\n        room_type: translateTipoHabitacion(currentReservation.tipoHabitacion),\n        location: `${currentReservation.ciudad}, ${currentReservation.pais} - ${currentReservation.direccion}`,\n        check_in_date: currentReservation.fechaIngreso,\n        check_out_date: currentReservation.fechaSalida,\n        total_nights: calculateNights(currentReservation.fechaIngreso, currentReservation.fechaSalida).toString(),\n        total_people: currentReservation.personasReserva.toString(),\n        total_price: `$${currentReservation.totalReserva.toFixed(2)}`,\n        reservation_status: currentReservation.estadoReserva,\n        reservation_code: currentReservation.codigoReserva.toString(),\n        to_email: user.email // Asumiendo que esta es la dirección de correo electrónico del usuario\n      };\n      try {\n        await emailjs.send('service_db-dw2', 'template_vhblb7c', templateParams, '83TAqc_7hHgnfdESC');\n        console.log('Notificación de cambio enviada!');\n        setShowNotifyButton(false); // Esconde el botón después de enviar el correo\n      } catch (error) {\n        console.error('Error al enviar notificación de cambio:', error.text);\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-history-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Historial de Reservas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }, this), reservations.length > 0 ? reservations.map(reserva => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"mb-4 shadow\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          as: \"h5\",\n          className: \"font-weight-bold\",\n          children: [\"Reserva #\", reserva.codigoReserva, \" - \", reserva.correoElectronico]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: reserva.nombreHotel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n            className: \"mb-2 text-muted\",\n            children: [reserva.ciudad, \", \", reserva.pais, \" - \", reserva.direccion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Tipo de habitaci\\xF3n: \", reserva.tipoHabitacion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"N\\xFAmero de habitaci\\xF3n: \", reserva.numeroHabitacion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Check-in: \", reserva.fechaIngreso]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Check-out: \", reserva.fechaSalida]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"N\\xFAmero de noches: \", calculateNights(reserva.fechaIngreso, reserva.fechaSalida)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Personas: \", reserva.capacidadPersonas]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Total Reserva: $\", reserva.totalReserva]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Estado: \", reserva.estadoReserva]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), reserva.estadoReserva !== \"Cancelada\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"warning\",\n              onClick: () => handleEdit(reserva),\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: () => cancelarReserva(reserva.idReserva),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"info\",\n            onClick: () => downloadReservationPdf(reserva),\n            children: \"Descargar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, reserva.idReserva, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        children: \"No se encontraron reservas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 10\n      }, this), showNotifyButton && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"info\",\n        onClick: handleNotification,\n        children: \"Notificar Cambios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 10\n      }, this), currentReservation && /*#__PURE__*/_jsxDEV(EditReservationAdmin, {\n        show: showEditModal,\n        handleClose: handleEditClose,\n        reserva: currentReservation,\n        actualizarReserva: actualizarReserva\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }, this);\n  };\n};\n_s(AdministrarReservas, \"wtJhgr3DKJt6hUOUUrC7+NgIWFw=\", false, function () {\n  return [useUser];\n});\n_c = AdministrarReservas;\nexport default AdministrarReservas;\nvar _c;\n$RefreshReg$(_c, \"AdministrarReservas\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","Button","Card","useUser","EditReservationAdmin","jsPDF","emailjs","jsxDEV","_jsxDEV","Fragment","_Fragment","AdministrarReservas","_s","reservations","setReservations","user","showEditModal","setShowEditModal","currentReservation","setCurrentReservation","showNotifyButton","setShowNotifyButton","translateTipoHabitacion","tipoHabitacion","tipoHabitacionMap","fetchReservations","console","log","id","response","fetch","ok","data","json","map","reserva","idHotel","idHabitacion","error","handleEdit","handleEditClose","calculateNights","checkIn","checkOut","checkInDate","Date","checkOutDate","diffTime","Math","abs","getTime","ceil","cancelarReserva","idReserva","method","headers","Error","alert","actualizarReserva","reservaActualizada","body","JSON","stringify","status","statusText","downloadReservationPdf","doc","text","setFontSize","reservationDetails","title","nombreHotel","numeroHabitacion","toString","ciudad","pais","direccion","fechaIngreso","fechaSalida","capacidadPersonas","totalReserva","estadoReserva","codigoReserva","autoTable","head","item","startY","save","handleNotification","templateParams","to_name","primer_nombre","hotel_name","hotelName","room_number","roomNumber","room_type","location","check_in_date","check_out_date","total_nights","total_people","personasReserva","total_price","toFixed","reservation_status","reservation_code","to_email","email","send","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","Header","as","correoElectronico","Body","Title","Subtitle","Text","variant","onClick","show","handleClose","_c","$RefreshReg$"],"sources":["/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/AdministrarReservas.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { Button, Card } from 'react-bootstrap';\nimport { useUser } from './UserContext';\nimport EditReservationAdmin from './EditReservationAdmin';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport emailjs from 'emailjs-com';\n\nconst AdministrarReservas = () => {\n    const [reservations, setReservations] = useState([]);\n    const { user } = useUser();\n    const [showEditModal, setShowEditModal] = useState(false);\n    const [currentReservation, setCurrentReservation] = useState(null);\n    const [showNotifyButton, setShowNotifyButton] = useState(false);\n\n    // Traducción del tipo de habitación\n    const translateTipoHabitacion = (tipoHabitacion) => {\n        const tipoHabitacionMap = {\n            1: \"Doble\",\n            2: \"Junior Suite\",\n            3: \"Suite\",\n            4: \"Gran Suite\",\n        };\n        return tipoHabitacionMap[tipoHabitacion] || \"Desconocido\";\n    };\n\n    const fetchReservations = useCallback(async () => {\n        console.log('Fetching reservations for user:', user?.id);\n        try {\n            const response = await fetch(`http://localhost:8080/reservas/detalle/todas`);\n            if (response.ok) {\n                const data = await response.json();\n                console.log('Reservations fetched successfully:', data);\n                setReservations(data.map(reserva => ({\n                    ...reserva,\n                    tipoHabitacion: translateTipoHabitacion(reserva.tipoHabitacion),\n                    idHotel: reserva.idHotel,\n                    idHabitacion: reserva.idHabitacion\n                })));\n            } else {\n                console.error(\"Failed to fetch reservations.\");\n            }\n        } catch (error) {\n            console.error(\"Error fetching reservations:\", error);\n        }\n    }, [user?.id]);\n\n    useEffect(() => {\n        fetchReservations();\n    }, [fetchReservations]);\n\n    const handleEdit = (reserva) => {\n        setCurrentReservation(reserva);\n        setShowEditModal(true);\n    };\n\n    const handleEditClose = () => {\n        setShowEditModal(false);\n        // No necesitas setEditedReservation aquí a menos que lo uses en otro lugar\n    };\n  \n\n\n  const calculateNights = (checkIn, checkOut) => {\n    const checkInDate = new Date(checkIn);\n    const checkOutDate = new Date(checkOut);\n    const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n    return Math.ceil(diffTime / (1000 * 3600 * 24));\n  };\n\n\n\n  const cancelarReserva = async (idReserva) => {\n    try {\n      const response = await fetch(`http://localhost:8080/reservas/${idReserva}/cancelar`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      if (!response.ok) {\n        throw new Error('No se pudo cancelar la reserva');\n      }\n      alert('Reserva cancelada con éxito');\n      fetchReservations(); //error tipográfico.\n    } catch (error) {\n      console.error('Error al cancelar la reserva:', error);\n      alert('Error al cancelar la reserva');\n    }\n  };\n\n  const actualizarReserva = async (reservaActualizada) => {\n    console.log('Updating reservation with:', reservaActualizada);\n    try {\n      const response = await fetch(`http://localhost:8080/reservas/${reservaActualizada.idReserva}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(reservaActualizada),\n      });\n  \n      if (!response.ok) {\n        if (response.status === 409) {\n          // Conflicto , notifica al usuario\n          alert(\"Habitación no disponible.\");\n        } else {\n          // Otro tipo de error HTTP\n          throw new Error(`Reservation update failed: ${response.statusText}`);\n        }\n      } else {\n        console.log('Reservation updated successfully');\n        // Solo mostramos el botón de notificar cambios si la actualización fue exitosa\n        setShowNotifyButton(true);\n        setShowEditModal(false);\n        await fetchReservations(); // Refresh the list of reservations\n      }\n    } catch (error) {\n      console.error('Error updating reservation:', error);\n      alert(\"Ocurrió un error al actualizar la reserva. Por favor, intenta de nuevo.\");\n      // También en este caso, ocultamos el botón ya que hubo un error\n      setShowNotifyButton(true); // Muestra el botón \"Notificar Cambios\" después de una actualización exitosa\n      setCurrentReservation(reservaActualizada); // Guarda los detalles de la reserva actualizada para usar en la notificación\n    };\n  \n\n\n  const downloadReservationPdf = (reserva) => {\n    const doc = new jsPDF();\n    doc.text(\"Detalle de Reserva\", 14, 16);\n    doc.setFontSize(10);\n\n    // Información de la reserva\n    const reservationDetails = [\n      { title: \"Hotel\", data: reserva.nombreHotel },\n      { title: \"Número de habitación\", data: reserva.numeroHabitacion.toString() }, \n      { title: \"Tipo de habitación\", data: reserva.tipoHabitacion },\n      { title: \"Ubicación\", data: `${reserva.ciudad}, ${reserva.pais} - ${reserva.direccion}` },\n      { title: \"Check-in\", data: reserva.fechaIngreso },\n      { title: \"Check-out\", data: reserva.fechaSalida },\n      { title: \"Número de noches\", data: calculateNights(reserva.fechaIngreso, reserva.fechaSalida).toString() },\n      { title: \"Personas\", data: reserva.capacidadPersonas.toString() },\n      { title: \"Total Reserva\", data: `$${reserva.totalReserva}` },\n      { title: \"Estado\", data: reserva.estadoReserva },\n      { title: \"Código de reserva\", data: reserva.codigoReserva },\n    ];\n\n    doc.autoTable({\n      head: [[\"Detalle\", \"Información\"]],\n      body: reservationDetails.map((item) => [item.title, item.data]),\n      startY: 20,\n    });\n\n    doc.save(`Reserva_${reserva.codigoReserva}.pdf`);\n  };\n\n\n\n\n  const handleNotification = async () => {\n    if (!currentReservation) return;\n  \n    const templateParams = {\n      to_name: user.primer_nombre, // Asumiendo que tienes esta información disponible\n      hotel_name: currentReservation.hotelName,\n      room_number: currentReservation.roomNumber.toString(),\n      room_type: translateTipoHabitacion(currentReservation.tipoHabitacion),\n      location: `${currentReservation.ciudad}, ${currentReservation.pais} - ${currentReservation.direccion}`,\n      check_in_date: currentReservation.fechaIngreso,\n      check_out_date: currentReservation.fechaSalida,\n      total_nights: calculateNights(currentReservation.fechaIngreso, currentReservation.fechaSalida).toString(),\n      total_people: currentReservation.personasReserva.toString(),\n      total_price: `$${currentReservation.totalReserva.toFixed(2)}`,\n      reservation_status: currentReservation.estadoReserva,\n      reservation_code: currentReservation.codigoReserva.toString(),\n      to_email: user.email, // Asumiendo que esta es la dirección de correo electrónico del usuario\n    };\n  \n    try {\n      await emailjs.send('service_db-dw2', 'template_vhblb7c', templateParams, '83TAqc_7hHgnfdESC');\n      console.log('Notificación de cambio enviada!');\n      setShowNotifyButton(false); // Esconde el botón después de enviar el correo\n    } catch (error) {\n      console.error('Error al enviar notificación de cambio:', error.text);\n    }\n  };\n  \n  \n\n\n\n  return (\n    <div className=\"booking-history-container\">\n      <h2 className=\"text-center\">Historial de Reservas</h2>\n      {reservations.length > 0 ? (\n        reservations.map((reserva) => (\n          <Card key={reserva.idReserva} className=\"mb-4 shadow\">\n            <Card.Header as=\"h5\" className=\"font-weight-bold\">\n              Reserva #{reserva.codigoReserva} - {reserva.correoElectronico}\n            </Card.Header>\n            <Card.Body>\n              <Card.Title>{reserva.nombreHotel}</Card.Title>\n              <Card.Subtitle className=\"mb-2 text-muted\">\n                {reserva.ciudad}, {reserva.pais} - {reserva.direccion}\n              </Card.Subtitle>\n              <Card.Text>Tipo de habitación: {reserva.tipoHabitacion}</Card.Text>\n              <Card.Text>Número de habitación: {reserva.numeroHabitacion}</Card.Text>\n              <Card.Text>Check-in: {reserva.fechaIngreso}</Card.Text>\n              <Card.Text>Check-out: {reserva.fechaSalida}</Card.Text>\n              <Card.Text>Número de noches: {calculateNights(reserva.fechaIngreso, reserva.fechaSalida)}</Card.Text>\n              <Card.Text>Personas: {reserva.capacidadPersonas}</Card.Text>\n              <Card.Text>Total Reserva: ${reserva.totalReserva}</Card.Text>\n              <Card.Text>Estado: {reserva.estadoReserva}</Card.Text>\n              {reserva.estadoReserva !== \"Cancelada\" && (\n                <>\n                  <Button variant=\"warning\" onClick={() => handleEdit(reserva)}>Editar</Button>\n                  <Button variant=\"danger\" onClick={() => cancelarReserva(reserva.idReserva)}>Cancelar</Button>\n                </>\n              )}\n              <Button variant=\"info\" onClick={() => downloadReservationPdf(reserva)}>Descargar</Button>\n            </Card.Body>\n            </Card>\n       ))\n       ) : (\n         <p className=\"text-center\">No se encontraron reservas.</p>\n       )}\n       {showNotifyButton && (\n         <Button variant=\"info\" onClick={handleNotification}>Notificar Cambios</Button>\n       )}\n       {currentReservation && (\n         <EditReservationAdmin\n           show={showEditModal}\n           handleClose={handleEditClose}\n           reserva={currentReservation}\n           actualizarReserva={actualizarReserva}\n         />\n       )}\n     </div>\n   );\n };\n}\n export default AdministrarReservas;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
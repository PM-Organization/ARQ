{"ast":null,"code":"var _jsxFileName = \"/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/CheckoutPage.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Button, Form, Row, Col, Modal } from 'react-bootstrap';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useUser } from './UserContext';\nimport emailjs from 'emailjs-com';\nconst CheckoutPage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    user\n  } = useUser();\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const {\n    hotelDetails,\n    roomDetails\n  } = location.state;\n\n  // Log para verificar los detalles del hotel recibidos\n  console.log(\"Hotel details received:\", hotelDetails);\n  const [reservationData, setReservationData] = useState({\n    checkIn: '',\n    checkOut: '',\n    totalReserva: 0\n  });\n  const calculateTotalReserva = () => {\n    if (reservationData.checkIn && reservationData.checkOut && roomDetails.roomPrice) {\n      const checkInDate = new Date(reservationData.checkIn);\n      const checkOutDate = new Date(reservationData.checkOut);\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n      const diffDays = Math.ceil(diffTime / (1000 * 3600 * 24));\n      const totalReservaCalculado = diffDays * roomDetails.roomPrice;\n      setReservationData(prevState => ({\n        ...prevState,\n        totalReserva: totalReservaCalculado\n      }));\n    }\n  };\n  useEffect(() => {\n    calculateTotalReserva();\n  }, [reservationData.checkIn, reservationData.checkOut, roomDetails.roomPrice]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setReservationData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const formattedCheckIn = new Date(reservationData.checkIn).toISOString().split('T')[0];\n    const formattedCheckOut = new Date(reservationData.checkOut).toISOString().split('T')[0];\n\n    // Datos para verificar la disponibilidad\n    const verificarDisponibilidadData = {\n      idHabitacion: roomDetails.idHabitacion,\n      fechaIngreso: formattedCheckIn,\n      fechaSalida: formattedCheckOut\n    };\n    const calculateNights = (checkIn, checkOut) => {\n      const checkInDate = new Date(checkIn);\n      const checkOutDate = new Date(checkOut);\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n      return Math.ceil(diffTime / (1000 * 3600 * 24));\n    };\n\n    // Verificar disponibilidad primero\n    const responseDisponibilidad = await fetch('http://localhost:8080/reservas/verificar-disponibilidad', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(verificarDisponibilidadData)\n    });\n    const disponibilidad = await responseDisponibilidad.json();\n    if (!disponibilidad.esDisponible) {\n      alert('La habitación no está disponible para las fechas seleccionadas. Por favor, elige otras fechas.');\n      return; // Detiene la función aquí si no hay disponibilidad\n    }\n\n    // Datos finales de la reserva, solo si la habitación está disponible\n    const finalReservationData = {\n      idHabitacion: roomDetails.idHabitacion,\n      idHotel: hotelDetails.id_hotel,\n      idUsuario: user.id,\n      codigoReserva: Math.floor(Math.random() * 1000000),\n      fechaIngreso: formattedCheckIn,\n      fechaSalida: formattedCheckOut,\n      totalReserva: reservationData.totalReserva,\n      personasReserva: roomDetails.capacidadPersonas\n    };\n    console.log(\"Final reservation data being sent:\", finalReservationData);\n    console.log(\"Hotel ID being sent:\", hotelDetails.id_hotel);\n    console.log(\"Hotel details received:\", hotelDetails);\n    console.log(\"Room details received:\", roomDetails);\n    try {\n      var _roomDetails$numero_h, _roomDetails$capacida;\n      // Verificar la disponibilidad de la habitación primero\n      const responseDisponibilidad = await fetch('http://localhost:8080/reservas/verificar-disponibilidad', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(verificarDisponibilidadData)\n      });\n      const disponibilidad = await responseDisponibilidad.json();\n      if (!disponibilidad.esDisponible) {\n        alert('La habitación no está disponible para las fechas seleccionadas. Por favor, elige otras fechas.');\n        return;\n      }\n\n      // Si la habitación está disponible, proceder a crear la reserva\n      const finalReservationData = {\n        idHabitacion: roomDetails.idHabitacion,\n        idHotel: hotelDetails.id_hotel,\n        idUsuario: user.id,\n        codigoReserva: Math.floor(Math.random() * 1000000),\n        fechaIngreso: formattedCheckIn,\n        fechaSalida: formattedCheckOut,\n        totalReserva: reservationData.totalReserva,\n        personasReserva: roomDetails.capacidadPersonas\n      };\n      const translateTipoHabitacion = tipoHabitacion => {\n        const tiposHabitacion = {\n          1: 'Doble',\n          2: 'Junior Suite',\n          3: 'Suite',\n          4: 'Gran Suite'\n        };\n        return tiposHabitacion[tipoHabitacion] || \"Tipo no especificado\";\n      };\n      const response = await fetch('http://localhost:8080/reservas', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(finalReservationData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`Error al crear la reserva: ${errorData.message}`);\n      }\n      const templateParams = {\n        to_name: user.primer_nombre,\n        hotel_name: hotelDetails.nombre,\n        room_number: ((_roomDetails$numero_h = roomDetails.numero_habitacion) === null || _roomDetails$numero_h === void 0 ? void 0 : _roomDetails$numero_h.toString()) || \"No especificado\",\n        room_type: translateTipoHabitacion(roomDetails.tipo_habitacion) || \"Tipo no especificado\",\n        location: `${hotelDetails.ciudad}, ${hotelDetails.pais} - ${hotelDetails.direccion}`,\n        check_in_date: formattedCheckIn,\n        check_out_date: formattedCheckOut,\n        total_nights: calculateNights(formattedCheckIn, formattedCheckOut).toString(),\n        total_people: (_roomDetails$capacida = roomDetails.capacidadPersonas) === null || _roomDetails$capacida === void 0 ? void 0 : _roomDetails$capacida.toString(),\n        total_price: `$${reservationData.totalReserva.toFixed(2)}`,\n        reservation_status: \"confirmada\",\n        reservation_code: finalReservationData.codigoReserva.toString(),\n        to_email: user.email\n      };\n\n      // Envía el correo electrónico utilizando EmailJS.\n      emailjs.send('service_db-dw', 'template_0idkwyf', templateParams, 'BLyjSRydByFGcVhN6').then(result => {\n        console.log('Email successfully sent!', result.text);\n        setShowSuccessModal(true); // Muestra el modal de éxito\n      }, error => {\n        console.error('Failed to send email. Error: ', error.text);\n        // Considera mostrar un mensaje de error específico relacionado con el fallo del envío del correo\n      });\n    } catch (error) {\n      console.error('Error en la reserva:', error);\n      alert('Hubo un error al procesar tu reserva. Por favor, intenta nuevamente.');\n    }\n  };\n  const [isRoomAvailable, setIsRoomAvailable] = useState(true);\n  useEffect(() => {\n    const verificarDisponibilidad = async () => {\n      if (reservationData.checkIn && reservationData.checkOut) {\n        // Asumiendo que tienes una endpoint en tu API para verificar la disponibilidad\n        try {\n          const response = await fetch(`http://localhost:8080/verificar-disponibilidad`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              idHabitacion: roomDetails.idHabitacion,\n              fechaIngreso: new Date(reservationData.checkIn).toISOString().split('T')[0],\n              fechaSalida: new Date(reservationData.checkOut).toISOString().split('T')[0]\n            })\n          });\n          const disponibilidad = await response.json();\n          setIsRoomAvailable(disponibilidad.esDisponible);\n        } catch (error) {\n          console.error('Error verificando disponibilidad:', error);\n        }\n      }\n    };\n    verificarDisponibilidad();\n  }, [reservationData.checkIn, reservationData.checkOut, roomDetails.idHabitacion]);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, \"Checkout de la Reserva\"), hotelDetails && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, \"Reservando en: \", hotelDetails.nombre, \", \", hotelDetails.ciudad, \", \", hotelDetails.pais), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, \"Tipo de habitaci\\xF3n: \", roomDetails.roomType, \", Precio por noche: $\", roomDetails.roomPrice), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, \"Total estimado: $\", reservationData.totalReserva.toFixed(2))), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"checkIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 15\n    }\n  }, \"Fecha de Check-In\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    name: \"checkIn\",\n    value: reservationData.checkIn,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"checkOut\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, \"Fecha de Check-Out\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    name: \"checkOut\",\n    value: reservationData.checkOut,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"cardNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  }, \"N\\xFAmero de Tarjeta\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    pattern: \"\\\\d{16}\",\n    placeholder: \"1234 5678 9012 3456\",\n    maxLength: \"16\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, \"Ingrese los 16 d\\xEDgitos de su tarjeta de cr\\xE9dito sin espacios.\"))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"cardExpiration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, \"Fecha de Expiraci\\xF3n\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"month\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"cardCVV\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, \"CVV\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    pattern: \"\\\\d{3}\",\n    placeholder: \"123\",\n    maxLength: \"3\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"3 d\\xEDgitos en el reverso de la tarjeta.\")))), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 5\n    }\n  }, \"Direcci\\xF3n de Cobro\"), /*#__PURE__*/React.createElement(Row, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingAddressLine1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, \"Direcci\\xF3n (L\\xEDnea 1)\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Calle y n\\xFAmero\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingAddressLine2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, \"Direcci\\xF3n (L\\xEDnea 2)\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Apartamento, suite, unidad, etc. (opcional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingCity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, \"Ciudad\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingStateProvince\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }, \"Estado/Provincia\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingPostalCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, \"C\\xF3digo Postal\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"billingCountry\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  }, \"Pa\\xEDs\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: \"Elija...\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }\n  }, \"Elija...\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }\n  }, \"Estados Unidos\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }, \"M\\xE9xico\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }, \"Canad\\xE1\"))))), !isRoomAvailable && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }\n  }, \"La habitaci\\xF3n no est\\xE1 disponible para las fechas seleccionadas. Por favor, elige otras fechas.\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    disabled: !isRoomAvailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 3\n    }\n  }, \"Confirmar Reserva\")), /*#__PURE__*/React.createElement(Modal, {\n    show: showSuccessModal,\n    onHide: () => setShowSuccessModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, \"Reserva Confirmada\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }\n  }, \"Tu reserva ha sido confirmada con \\xE9xito.\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: () => setShowSuccessModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 11\n    }\n  }, \"Cerrar\"))));\n};\nexport default CheckoutPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Button","Form","Row","Col","Modal","useNavigate","useLocation","useUser","emailjs","CheckoutPage","navigate","location","user","showSuccessModal","setShowSuccessModal","hotelDetails","roomDetails","state","console","log","reservationData","setReservationData","checkIn","checkOut","totalReserva","calculateTotalReserva","roomPrice","checkInDate","Date","checkOutDate","diffTime","Math","abs","getTime","diffDays","ceil","totalReservaCalculado","prevState","handleInputChange","event","name","value","target","handleSubmit","preventDefault","formattedCheckIn","toISOString","split","formattedCheckOut","verificarDisponibilidadData","idHabitacion","fechaIngreso","fechaSalida","calculateNights","responseDisponibilidad","fetch","method","headers","body","JSON","stringify","disponibilidad","json","esDisponible","alert","finalReservationData","idHotel","id_hotel","idUsuario","id","codigoReserva","floor","random","personasReserva","capacidadPersonas","_roomDetails$numero_h","_roomDetails$capacida","translateTipoHabitacion","tipoHabitacion","tiposHabitacion","response","ok","errorData","Error","message","templateParams","to_name","primer_nombre","hotel_name","nombre","room_number","numero_habitacion","toString","room_type","tipo_habitacion","ciudad","pais","direccion","check_in_date","check_out_date","total_nights","total_people","total_price","toFixed","reservation_status","reservation_code","to_email","email","send","then","result","text","error","isRoomAvailable","setIsRoomAvailable","verificarDisponibilidad","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","roomType","onSubmit","Group","controlId","Label","Control","type","onChange","required","md","pattern","placeholder","maxLength","Text","as","defaultValue","role","variant","disabled","show","onHide","Header","closeButton","Title","Body","Footer","onClick"],"sources":["/home/pmorales/Downloads/Proyecto-B2B/Hotel/frontend/sistema_hoteles/src/components/CheckoutPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Button, Form, Row, Col, Modal } from 'react-bootstrap';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useUser } from './UserContext';\nimport emailjs from 'emailjs-com';\n\n\n\n\n\nconst CheckoutPage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user } = useUser();\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const { hotelDetails, roomDetails } = location.state;\n\n  // Log para verificar los detalles del hotel recibidos\n  console.log(\"Hotel details received:\", hotelDetails);\n\n  const [reservationData, setReservationData] = useState({\n    checkIn: '',\n    checkOut: '',\n    totalReserva: 0,\n  });\n\n  const calculateTotalReserva = () => {\n    if (reservationData.checkIn && reservationData.checkOut && roomDetails.roomPrice) {\n      const checkInDate = new Date(reservationData.checkIn);\n      const checkOutDate = new Date(reservationData.checkOut);\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n      const diffDays = Math.ceil(diffTime / (1000 * 3600 * 24));\n      const totalReservaCalculado = diffDays * roomDetails.roomPrice;\n      setReservationData(prevState => ({\n        ...prevState,\n        totalReserva: totalReservaCalculado,\n      }));\n    }\n  };\n\n  useEffect(() => {\n    calculateTotalReserva();\n  }, [reservationData.checkIn, reservationData.checkOut, roomDetails.roomPrice]);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setReservationData(prevState => ({ ...prevState, [name]: value }));\n  };\n\n\n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formattedCheckIn = new Date(reservationData.checkIn).toISOString().split('T')[0];\n    const formattedCheckOut = new Date(reservationData.checkOut).toISOString().split('T')[0];\n    \n    // Datos para verificar la disponibilidad\n    const verificarDisponibilidadData = {\n      idHabitacion: roomDetails.idHabitacion,\n      fechaIngreso: formattedCheckIn,\n      fechaSalida: formattedCheckOut,\n    };\n\n    const calculateNights = (checkIn, checkOut) => {\n      const checkInDate = new Date(checkIn);\n      const checkOutDate = new Date(checkOut);\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime());\n      return Math.ceil(diffTime / (1000 * 3600 * 24));\n    };\n  \n    // Verificar disponibilidad primero\n    const responseDisponibilidad = await fetch('http://localhost:8080/reservas/verificar-disponibilidad', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(verificarDisponibilidadData),\n    });\n  \n    const disponibilidad = await responseDisponibilidad.json();\n  \n    if (!disponibilidad.esDisponible) {\n      alert('La habitación no está disponible para las fechas seleccionadas. Por favor, elige otras fechas.');\n      return; // Detiene la función aquí si no hay disponibilidad\n    }\n  \n    // Datos finales de la reserva, solo si la habitación está disponible\n    const finalReservationData = {\n      idHabitacion: roomDetails.idHabitacion,\n      idHotel: hotelDetails.id_hotel, \n      idUsuario: user.id,\n      codigoReserva: Math.floor(Math.random() * 1000000),\n      fechaIngreso: formattedCheckIn,\n      fechaSalida: formattedCheckOut,\n      totalReserva: reservationData.totalReserva,\n      personasReserva: roomDetails.capacidadPersonas,\n    };\n    \n    console.log(\"Final reservation data being sent:\", finalReservationData);\n    console.log(\"Hotel ID being sent:\", hotelDetails.id_hotel);  \n    console.log(\"Hotel details received:\", hotelDetails);\n    console.log(\"Room details received:\", roomDetails);\n    \n    try {\n      // Verificar la disponibilidad de la habitación primero\n      const responseDisponibilidad = await fetch('http://localhost:8080/reservas/verificar-disponibilidad', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(verificarDisponibilidadData),\n      });\n  \n      const disponibilidad = await responseDisponibilidad.json();\n      if (!disponibilidad.esDisponible) {\n        alert('La habitación no está disponible para las fechas seleccionadas. Por favor, elige otras fechas.');\n        return;\n      }\n  \n      // Si la habitación está disponible, proceder a crear la reserva\n      const finalReservationData = {\n        idHabitacion: roomDetails.idHabitacion,\n        idHotel: hotelDetails.id_hotel,\n        idUsuario: user.id,\n        codigoReserva: Math.floor(Math.random() * 1000000),\n        fechaIngreso: formattedCheckIn,\n        fechaSalida: formattedCheckOut,\n        totalReserva: reservationData.totalReserva,\n        personasReserva: roomDetails.capacidadPersonas,\n      };\n\n\n      const translateTipoHabitacion = (tipoHabitacion) => {\n        const tiposHabitacion = {\n          1: 'Doble',\n          2: 'Junior Suite',\n          3: 'Suite',\n          4: 'Gran Suite'\n        };\n      \n        return tiposHabitacion[tipoHabitacion] || \"Tipo no especificado\";\n      };\n\n\n  \n      const response = await fetch('http://localhost:8080/reservas', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(finalReservationData),\n      });\n  \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`Error al crear la reserva: ${errorData.message}`);\n      }\n  \n\n      const templateParams = {\n        to_name: user.primer_nombre,\n        hotel_name: hotelDetails.nombre,\n        room_number: roomDetails.numero_habitacion?.toString() || \"No especificado\", \n        room_type: translateTipoHabitacion(roomDetails.tipo_habitacion) || \"Tipo no especificado\", \n        location: `${hotelDetails.ciudad}, ${hotelDetails.pais} - ${hotelDetails.direccion}`,\n        check_in_date: formattedCheckIn,\n        check_out_date: formattedCheckOut,\n        total_nights: calculateNights(formattedCheckIn, formattedCheckOut).toString(),\n        total_people: roomDetails.capacidadPersonas?.toString(),\n        total_price: `$${reservationData.totalReserva.toFixed(2)}`,\n        reservation_status: \"confirmada\",\n        reservation_code: finalReservationData.codigoReserva.toString(), \n        to_email: user.email,\n      };\n  \n      // Envía el correo electrónico utilizando EmailJS.\n      emailjs.send('service_db-dw', 'template_0idkwyf', templateParams, 'BLyjSRydByFGcVhN6')\n        .then((result) => {\n          console.log('Email successfully sent!', result.text);\n          setShowSuccessModal(true); // Muestra el modal de éxito\n        }, (error) => {\n          console.error('Failed to send email. Error: ', error.text);\n          // Considera mostrar un mensaje de error específico relacionado con el fallo del envío del correo\n        });\n  \n    } catch (error) {\n      console.error('Error en la reserva:', error);\n      alert('Hubo un error al procesar tu reserva. Por favor, intenta nuevamente.');\n    }\n  };\n  \n\n\n  const [isRoomAvailable, setIsRoomAvailable] = useState(true);\n  useEffect(() => {\n    const verificarDisponibilidad = async () => {\n      if (reservationData.checkIn && reservationData.checkOut) {\n        // Asumiendo que tienes una endpoint en tu API para verificar la disponibilidad\n        try {\n          const response = await fetch(`http://localhost:8080/verificar-disponibilidad`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              idHabitacion: roomDetails.idHabitacion,\n              fechaIngreso: new Date(reservationData.checkIn).toISOString().split('T')[0],\n              fechaSalida: new Date(reservationData.checkOut).toISOString().split('T')[0],\n            }),\n          });\n          const disponibilidad = await response.json();\n          setIsRoomAvailable(disponibilidad.esDisponible);\n        } catch (error) {\n          console.error('Error verificando disponibilidad:', error);\n        }\n      }\n    };\n    verificarDisponibilidad();\n  }, [reservationData.checkIn, reservationData.checkOut, roomDetails.idHabitacion]);\n  \n\n\n  return (\n    <Container className=\"my-5\">\n      <h2>Checkout de la Reserva</h2>\n      {/* Detalles del hotel y la habitación */}\n      {hotelDetails && (\n        <div>\n          <p>Reservando en: {hotelDetails.nombre}, {hotelDetails.ciudad}, {hotelDetails.pais}</p>\n          <p>Tipo de habitación: {roomDetails.roomType}, Precio por noche: ${roomDetails.roomPrice}</p>\n          <p>Total estimado: ${reservationData.totalReserva.toFixed(2)}</p>\n        </div>\n      )}\n\n      {/* Formulario de reserva */}\n      <Form onSubmit={handleSubmit}>\n        {/* Fechas de check-in y check-out */}\n        <Row className=\"mb-3\">\n          <Col>\n            <Form.Group controlId=\"checkIn\">\n              <Form.Label>Fecha de Check-In</Form.Label>\n              <Form.Control type=\"date\" name=\"checkIn\" value={reservationData.checkIn} onChange={handleInputChange} required />\n            </Form.Group>\n          </Col>\n          <Col>\n            <Form.Group controlId=\"checkOut\">\n              <Form.Label>Fecha de Check-Out</Form.Label>\n              <Form.Control type=\"date\" name=\"checkOut\" value={reservationData.checkOut} onChange={handleInputChange} required />\n            </Form.Group>\n          </Col>\n        </Row>\n        \n\n        <Row className=\"mb-3\">\n      <Col md={6}>\n        <Form.Group controlId=\"cardNumber\">\n          <Form.Label>Número de Tarjeta</Form.Label>\n          <Form.Control type=\"text\" pattern=\"\\d{16}\" placeholder=\"1234 5678 9012 3456\" maxLength=\"16\" required />\n          <Form.Text className=\"text-muted\">\n            Ingrese los 16 dígitos de su tarjeta de crédito sin espacios.\n          </Form.Text>\n        </Form.Group>\n      </Col>\n      <Col md={3}>\n        <Form.Group controlId=\"cardExpiration\">\n          <Form.Label>Fecha de Expiración</Form.Label>\n          <Form.Control type=\"month\" required />\n        </Form.Group>\n      </Col>\n      <Col md={3}>\n        <Form.Group controlId=\"cardCVV\">\n          <Form.Label>CVV</Form.Label>\n          <Form.Control type=\"text\" pattern=\"\\d{3}\" placeholder=\"123\" maxLength=\"3\" required />\n          <Form.Text className=\"text-muted\">\n            3 dígitos en el reverso de la tarjeta.\n          </Form.Text>\n        </Form.Group>\n      </Col>\n    </Row>\n\n    <h4 className=\"mb-3\">Dirección de Cobro</h4>\n    <Row className=\"mb-3\">\n      <Col md={6}>\n        <Form.Group controlId=\"billingAddressLine1\">\n          <Form.Label>Dirección (Línea 1)</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"Calle y número\" required />\n        </Form.Group>\n      </Col>\n      <Col md={6}>\n        <Form.Group controlId=\"billingAddressLine2\">\n          <Form.Label>Dirección (Línea 2)</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"Apartamento, suite, unidad, etc. (opcional)\" />\n        </Form.Group>\n      </Col>\n      <Col md={4}>\n        <Form.Group controlId=\"billingCity\">\n          <Form.Label>Ciudad</Form.Label>\n          <Form.Control type=\"text\" required />\n        </Form.Group>\n      </Col>\n      <Col md={4}>\n        <Form.Group controlId=\"billingStateProvince\">\n          <Form.Label>Estado/Provincia</Form.Label>\n          <Form.Control type=\"text\" required />\n        </Form.Group>\n      </Col>\n      <Col md={4}>\n        <Form.Group controlId=\"billingPostalCode\">\n          <Form.Label>Código Postal</Form.Label>\n          <Form.Control type=\"text\" required />\n        </Form.Group>\n      </Col>\n      <Col md={6}>\n        <Form.Group controlId=\"billingCountry\">\n          <Form.Label>País</Form.Label>\n          <Form.Control as=\"select\" defaultValue=\"Elija...\" required>\n            {/* Opciones de países */}\n            <option>Elija...</option>\n            <option>Estados Unidos</option>\n            <option>México</option>\n            <option>Canadá</option>\n\n          </Form.Control>\n        </Form.Group>\n      </Col>\n    </Row>\n\n\n\n\n  {\n    !isRoomAvailable && (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        La habitación no está disponible para las fechas seleccionadas. Por favor, elige otras fechas.\n      </div>\n    )\n  }\n  <Button variant=\"primary\" type=\"submit\" disabled={!isRoomAvailable}>Confirmar Reserva</Button>\n</Form>\n\n\n\n\n\n\n      {/* Modal de éxito */}\n      <Modal show={showSuccessModal} onHide={() => setShowSuccessModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Reserva Confirmada</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Tu reserva ha sido confirmada con éxito.</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowSuccessModal(false)}>Cerrar</Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default CheckoutPage;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,MAAM,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,QAAQ,iBAAiB;AAC1E,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,OAAO,MAAM,aAAa;AAMjC,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACzB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAMM,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEM;EAAK,CAAC,GAAGL,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACM,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM;IAAEkB,YAAY;IAAEC;EAAY,CAAC,GAAGL,QAAQ,CAACM,KAAK;;EAEpD;EACAC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEJ,YAAY,CAAC;EAEpD,MAAM,CAACK,eAAe,EAAEC,kBAAkB,CAAC,GAAGxB,QAAQ,CAAC;IACrDyB,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE;EAChB,CAAC,CAAC;EAEF,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;IAClC,IAAIL,eAAe,CAACE,OAAO,IAAIF,eAAe,CAACG,QAAQ,IAAIP,WAAW,CAACU,SAAS,EAAE;MAChF,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAACR,eAAe,CAACE,OAAO,CAAC;MACrD,MAAMO,YAAY,GAAG,IAAID,IAAI,CAACR,eAAe,CAACG,QAAQ,CAAC;MACvD,MAAMO,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACH,YAAY,CAACI,OAAO,CAAC,CAAC,GAAGN,WAAW,CAACM,OAAO,CAAC,CAAC,CAAC;MACzE,MAAMC,QAAQ,GAAGH,IAAI,CAACI,IAAI,CAACL,QAAQ,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;MACzD,MAAMM,qBAAqB,GAAGF,QAAQ,GAAGlB,WAAW,CAACU,SAAS;MAC9DL,kBAAkB,CAACgB,SAAS,KAAK;QAC/B,GAAGA,SAAS;QACZb,YAAY,EAAEY;MAChB,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAEDtC,SAAS,CAAC,MAAM;IACd2B,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAACL,eAAe,CAACE,OAAO,EAAEF,eAAe,CAACG,QAAQ,EAAEP,WAAW,CAACU,SAAS,CAAC,CAAC;EAE9E,MAAMY,iBAAiB,GAAIC,KAAK,IAAK;IACnC,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IACpCrB,kBAAkB,CAACgB,SAAS,KAAK;MAAE,GAAGA,SAAS;MAAE,CAACG,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACpE,CAAC;EAID,MAAME,YAAY,GAAG,MAAOJ,KAAK,IAAK;IACpCA,KAAK,CAACK,cAAc,CAAC,CAAC;IACtB,MAAMC,gBAAgB,GAAG,IAAIjB,IAAI,CAACR,eAAe,CAACE,OAAO,CAAC,CAACwB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACtF,MAAMC,iBAAiB,GAAG,IAAIpB,IAAI,CAACR,eAAe,CAACG,QAAQ,CAAC,CAACuB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;IAExF;IACA,MAAME,2BAA2B,GAAG;MAClCC,YAAY,EAAElC,WAAW,CAACkC,YAAY;MACtCC,YAAY,EAAEN,gBAAgB;MAC9BO,WAAW,EAAEJ;IACf,CAAC;IAED,MAAMK,eAAe,GAAGA,CAAC/B,OAAO,EAAEC,QAAQ,KAAK;MAC7C,MAAMI,WAAW,GAAG,IAAIC,IAAI,CAACN,OAAO,CAAC;MACrC,MAAMO,YAAY,GAAG,IAAID,IAAI,CAACL,QAAQ,CAAC;MACvC,MAAMO,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACH,YAAY,CAACI,OAAO,CAAC,CAAC,GAAGN,WAAW,CAACM,OAAO,CAAC,CAAC,CAAC;MACzE,OAAOF,IAAI,CAACI,IAAI,CAACL,QAAQ,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;IACjD,CAAC;;IAED;IACA,MAAMwB,sBAAsB,GAAG,MAAMC,KAAK,CAAC,yDAAyD,EAAE;MACpGC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,2BAA2B;IAClD,CAAC,CAAC;IAEF,MAAMY,cAAc,GAAG,MAAMP,sBAAsB,CAACQ,IAAI,CAAC,CAAC;IAE1D,IAAI,CAACD,cAAc,CAACE,YAAY,EAAE;MAChCC,KAAK,CAAC,gGAAgG,CAAC;MACvG,OAAO,CAAC;IACV;;IAEA;IACA,MAAMC,oBAAoB,GAAG;MAC3Bf,YAAY,EAAElC,WAAW,CAACkC,YAAY;MACtCgB,OAAO,EAAEnD,YAAY,CAACoD,QAAQ;MAC9BC,SAAS,EAAExD,IAAI,CAACyD,EAAE;MAClBC,aAAa,EAAEvC,IAAI,CAACwC,KAAK,CAACxC,IAAI,CAACyC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;MAClDrB,YAAY,EAAEN,gBAAgB;MAC9BO,WAAW,EAAEJ,iBAAiB;MAC9BxB,YAAY,EAAEJ,eAAe,CAACI,YAAY;MAC1CiD,eAAe,EAAEzD,WAAW,CAAC0D;IAC/B,CAAC;IAEDxD,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAE8C,oBAAoB,CAAC;IACvE/C,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEJ,YAAY,CAACoD,QAAQ,CAAC;IAC1DjD,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEJ,YAAY,CAAC;IACpDG,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEH,WAAW,CAAC;IAElD,IAAI;MAAA,IAAA2D,qBAAA,EAAAC,qBAAA;MACF;MACA,MAAMtB,sBAAsB,GAAG,MAAMC,KAAK,CAAC,yDAAyD,EAAE;QACpGC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,2BAA2B;MAClD,CAAC,CAAC;MAEF,MAAMY,cAAc,GAAG,MAAMP,sBAAsB,CAACQ,IAAI,CAAC,CAAC;MAC1D,IAAI,CAACD,cAAc,CAACE,YAAY,EAAE;QAChCC,KAAK,CAAC,gGAAgG,CAAC;QACvG;MACF;;MAEA;MACA,MAAMC,oBAAoB,GAAG;QAC3Bf,YAAY,EAAElC,WAAW,CAACkC,YAAY;QACtCgB,OAAO,EAAEnD,YAAY,CAACoD,QAAQ;QAC9BC,SAAS,EAAExD,IAAI,CAACyD,EAAE;QAClBC,aAAa,EAAEvC,IAAI,CAACwC,KAAK,CAACxC,IAAI,CAACyC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;QAClDrB,YAAY,EAAEN,gBAAgB;QAC9BO,WAAW,EAAEJ,iBAAiB;QAC9BxB,YAAY,EAAEJ,eAAe,CAACI,YAAY;QAC1CiD,eAAe,EAAEzD,WAAW,CAAC0D;MAC/B,CAAC;MAGD,MAAMG,uBAAuB,GAAIC,cAAc,IAAK;QAClD,MAAMC,eAAe,GAAG;UACtB,CAAC,EAAE,OAAO;UACV,CAAC,EAAE,cAAc;UACjB,CAAC,EAAE,OAAO;UACV,CAAC,EAAE;QACL,CAAC;QAED,OAAOA,eAAe,CAACD,cAAc,CAAC,IAAI,sBAAsB;MAClE,CAAC;MAID,MAAME,QAAQ,GAAG,MAAMzB,KAAK,CAAC,gCAAgC,EAAE;QAC7DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACK,oBAAoB;MAC3C,CAAC,CAAC;MAEF,IAAI,CAACe,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAMC,SAAS,GAAG,MAAMF,QAAQ,CAAClB,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIqB,KAAK,CAAE,8BAA6BD,SAAS,CAACE,OAAQ,EAAC,CAAC;MACpE;MAGA,MAAMC,cAAc,GAAG;QACrBC,OAAO,EAAE1E,IAAI,CAAC2E,aAAa;QAC3BC,UAAU,EAAEzE,YAAY,CAAC0E,MAAM;QAC/BC,WAAW,EAAE,EAAAf,qBAAA,GAAA3D,WAAW,CAAC2E,iBAAiB,cAAAhB,qBAAA,uBAA7BA,qBAAA,CAA+BiB,QAAQ,CAAC,CAAC,KAAI,iBAAiB;QAC3EC,SAAS,EAAEhB,uBAAuB,CAAC7D,WAAW,CAAC8E,eAAe,CAAC,IAAI,sBAAsB;QACzFnF,QAAQ,EAAG,GAAEI,YAAY,CAACgF,MAAO,KAAIhF,YAAY,CAACiF,IAAK,MAAKjF,YAAY,CAACkF,SAAU,EAAC;QACpFC,aAAa,EAAErD,gBAAgB;QAC/BsD,cAAc,EAAEnD,iBAAiB;QACjCoD,YAAY,EAAE/C,eAAe,CAACR,gBAAgB,EAAEG,iBAAiB,CAAC,CAAC4C,QAAQ,CAAC,CAAC;QAC7ES,YAAY,GAAAzB,qBAAA,GAAE5D,WAAW,CAAC0D,iBAAiB,cAAAE,qBAAA,uBAA7BA,qBAAA,CAA+BgB,QAAQ,CAAC,CAAC;QACvDU,WAAW,EAAG,IAAGlF,eAAe,CAACI,YAAY,CAAC+E,OAAO,CAAC,CAAC,CAAE,EAAC;QAC1DC,kBAAkB,EAAE,YAAY;QAChCC,gBAAgB,EAAExC,oBAAoB,CAACK,aAAa,CAACsB,QAAQ,CAAC,CAAC;QAC/Dc,QAAQ,EAAE9F,IAAI,CAAC+F;MACjB,CAAC;;MAED;MACAnG,OAAO,CAACoG,IAAI,CAAC,eAAe,EAAE,kBAAkB,EAAEvB,cAAc,EAAE,mBAAmB,CAAC,CACnFwB,IAAI,CAAEC,MAAM,IAAK;QAChB5F,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE2F,MAAM,CAACC,IAAI,CAAC;QACpDjG,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;MAC7B,CAAC,EAAGkG,KAAK,IAAK;QACZ9F,OAAO,CAAC8F,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAACD,IAAI,CAAC;QAC1D;MACF,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd9F,OAAO,CAAC8F,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5ChD,KAAK,CAAC,sEAAsE,CAAC;IAC/E;EACF,CAAC;EAID,MAAM,CAACiD,eAAe,EAAEC,kBAAkB,CAAC,GAAGrH,QAAQ,CAAC,IAAI,CAAC;EAC5DC,SAAS,CAAC,MAAM;IACd,MAAMqH,uBAAuB,GAAG,MAAAA,CAAA,KAAY;MAC1C,IAAI/F,eAAe,CAACE,OAAO,IAAIF,eAAe,CAACG,QAAQ,EAAE;QACvD;QACA,IAAI;UACF,MAAMyD,QAAQ,GAAG,MAAMzB,KAAK,CAAE,gDAA+C,EAAE;YAC7EC,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cAAE,cAAc,EAAE;YAAmB,CAAC;YAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;cACnBV,YAAY,EAAElC,WAAW,CAACkC,YAAY;cACtCC,YAAY,EAAE,IAAIvB,IAAI,CAACR,eAAe,CAACE,OAAO,CAAC,CAACwB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;cAC3EK,WAAW,EAAE,IAAIxB,IAAI,CAACR,eAAe,CAACG,QAAQ,CAAC,CAACuB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5E,CAAC;UACH,CAAC,CAAC;UACF,MAAMc,cAAc,GAAG,MAAMmB,QAAQ,CAAClB,IAAI,CAAC,CAAC;UAC5CoD,kBAAkB,CAACrD,cAAc,CAACE,YAAY,CAAC;QACjD,CAAC,CAAC,OAAOiD,KAAK,EAAE;UACd9F,OAAO,CAAC8F,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;QAC3D;MACF;IACF,CAAC;IACDG,uBAAuB,CAAC,CAAC;EAC3B,CAAC,EAAE,CAAC/F,eAAe,CAACE,OAAO,EAAEF,eAAe,CAACG,QAAQ,EAAEP,WAAW,CAACkC,YAAY,CAAC,CAAC;EAIjF,oBACEtD,KAAA,CAAAwH,aAAA,CAACrH,SAAS;IAACsH,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzB/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,wBAA0B,CAAC,EAE9B5G,YAAY,iBACXnB,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,iBAAe,EAAC5G,YAAY,CAAC0E,MAAM,EAAC,IAAE,EAAC1E,YAAY,CAACgF,MAAM,EAAC,IAAE,EAAChF,YAAY,CAACiF,IAAQ,CAAC,eACvFpG,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,yBAAoB,EAAC3G,WAAW,CAAC4G,QAAQ,EAAC,uBAAqB,EAAC5G,WAAW,CAACU,SAAa,CAAC,eAC7F9B,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,mBAAiB,EAACvG,eAAe,CAACI,YAAY,CAAC+E,OAAO,CAAC,CAAC,CAAK,CAC7D,CACN,eAGD3G,KAAA,CAAAwH,aAAA,CAACnH,IAAI;IAAC4H,QAAQ,EAAElF,YAAa;IAAA2E,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAE3B/H,KAAA,CAAAwH,aAAA,CAAClH,GAAG;IAACmH,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnB/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAAAmH,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACF/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,SAAS;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAA6B,CAAC,eAC1C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAAC1F,IAAI,EAAC,SAAS;IAACC,KAAK,EAAErB,eAAe,CAACE,OAAQ;IAAC6G,QAAQ,EAAE7F,iBAAkB;IAAC8F,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACtG,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAAAmH,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACF/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,UAAU;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAA8B,CAAC,eAC3C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAAC1F,IAAI,EAAC,UAAU;IAACC,KAAK,EAAErB,eAAe,CAACG,QAAS;IAAC4G,QAAQ,EAAE7F,iBAAkB;IAAC8F,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACxG,CACT,CACF,CAAC,eAGN/H,KAAA,CAAAwH,aAAA,CAAClH,GAAG;IAACmH,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,YAAY;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,sBAA6B,CAAC,eAC1C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACI,OAAO,EAAC,SAAQ;IAACC,WAAW,EAAC,qBAAqB;IAACC,SAAS,EAAC,IAAI;IAACJ,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACvG/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACwI,IAAI;IAACpB,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,qEAEvB,CACD,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,gBAAgB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,wBAA+B,CAAC,eAC5C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,OAAO;IAACE,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC3B,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,SAAS;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,KAAe,CAAC,eAC5B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACI,OAAO,EAAC,QAAO;IAACC,WAAW,EAAC,KAAK;IAACC,SAAS,EAAC,GAAG;IAACJ,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACrF/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACwI,IAAI;IAACpB,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,2CAEvB,CACD,CACT,CACF,CAAC,eAEN/H,KAAA,CAAAwH,aAAA;IAAIC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,uBAAsB,CAAC,eAC5C/H,KAAA,CAAAwH,aAAA,CAAClH,GAAG;IAACmH,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnB/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,qBAAqB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,2BAA+B,CAAC,eAC5C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACK,WAAW,EAAC,mBAAgB;IAACH,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACvD,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,qBAAqB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,2BAA+B,CAAC,eAC5C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACK,WAAW,EAAC,6CAA6C;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC3E,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,aAAa;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAkB,CAAC,eAC/B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACE,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC1B,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,sBAAsB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1C/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,kBAA4B,CAAC,eACzC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACE,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC1B,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,mBAAmB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,kBAAyB,CAAC,eACtC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACC,IAAI,EAAC,MAAM;IAACE,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC1B,CACT,CAAC,eACN/H,KAAA,CAAAwH,aAAA,CAACjH,GAAG;IAACkI,EAAE,EAAE,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACT/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC6H,KAAK;IAACC,SAAS,EAAC,gBAAgB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpC/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAAC+H,KAAK;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAgB,CAAC,eAC7B/H,KAAA,CAAAwH,aAAA,CAACnH,IAAI,CAACgI,OAAO;IAACS,EAAE,EAAC,QAAQ;IAACC,YAAY,EAAC,UAAU;IAACP,QAAQ;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAExD/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,UAAgB,CAAC,eACzB/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,gBAAsB,CAAC,eAC/B/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,WAAc,CAAC,eACvB/H,KAAA,CAAAwH,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,WAAc,CAEV,CACJ,CACT,CACF,CAAC,EAMN,CAACV,eAAe,iBACdrH,KAAA,CAAAwH,aAAA;IAAKC,SAAS,EAAC,oBAAoB;IAACuB,IAAI,EAAC,OAAO;IAAAtB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,sGAE5C,CACN,eAEH/H,KAAA,CAAAwH,aAAA,CAACpH,MAAM;IAAC6I,OAAO,EAAC,SAAS;IAACX,IAAI,EAAC,QAAQ;IAACY,QAAQ,EAAE,CAAC7B,eAAgB;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAAyB,CACzF,CAAC,eAQD/H,KAAA,CAAAwH,aAAA,CAAChH,KAAK;IAAC2I,IAAI,EAAElI,gBAAiB;IAACmI,MAAM,EAAEA,CAAA,KAAMlI,mBAAmB,CAAC,KAAK,CAAE;IAAAwG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtE/H,KAAA,CAAAwH,aAAA,CAAChH,KAAK,CAAC6I,MAAM;IAACC,WAAW;IAAA5B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB/H,KAAA,CAAAwH,aAAA,CAAChH,KAAK,CAAC+I,KAAK;IAAA7B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAA+B,CAChC,CAAC,eACf/H,KAAA,CAAAwH,aAAA,CAAChH,KAAK,CAACgJ,IAAI;IAAA9B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,6CAAoD,CAAC,eACjE/H,KAAA,CAAAwH,aAAA,CAAChH,KAAK,CAACiJ,MAAM;IAAA/B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACX/H,KAAA,CAAAwH,aAAA,CAACpH,MAAM;IAAC6I,OAAO,EAAC,WAAW;IAACS,OAAO,EAAEA,CAAA,KAAMxI,mBAAmB,CAAC,KAAK,CAAE;IAAAwG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CACzE,CACT,CACE,CAAC;AAEhB,CAAC;AAED,eAAelH,YAAY"},"metadata":{},"sourceType":"module"}